<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/layouts/departementsLayout.xhtml">

	<ui:define name="body">
		<h1>Liste Departements</h1>
		<br />
	
		<div>
			<h:link outcome="create" class="btn btn-success">
				<span class="glyphicon glyphicon-plus-sign"></span>
				Ajouter un departement
			</h:link>
		</div>
		<br />
		
		<h:form>
		<h:dataTable id="departements" var="departement" value="#{departementMB.departements}" styleClass="table table-striped table-bordered table-hover">
	        <h:column>
	            <f:facet name="header">
	                <h:outputText value="ID" />
	            </f:facet>
	            <h:outputText value="#{departement.id}" />
	        </h:column>
	        
	        <h:column>
	            <f:facet name="header">
	                <h:outputText value="Departement" />
	            </f:facet>
	            <h:outputText value="#{departement.nom}" />
	        </h:column>
	        
	        <h:column>
	            <f:facet name="header">
	                <h:outputText value="Responsable" />
	            </f:facet>
	            <h:outputText value="#{departement.responsable.label}" />
	        </h:column>
	
	        <h:column>
	            <f:facet name="header">
	                <h:outputText value="Actions" />
	            </f:facet>
	            <h:commandLink action="#{departementMB.initUpdate}" styleClass="btn btn-xs btn-primary">
					<span class="glyphicon glyphicon-edit"></span>
					Modifier
				</h:commandLink>
	            <h:commandLink action="#{departementMB.delete}" styleClass="btn btn-xs btn-danger" onclick="return confirm('Supprimer ce departement (#{departement.nom}) ?');">
					<span class="glyphicon glyphicon-trash"></span>
					Supprimer
				</h:commandLink>
	        </h:column>
	    </h:dataTable>
	    </h:form>
	</ui:define>
</ui:composition>